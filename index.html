<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>ThinkPhpHelper使用说明-详细手把手图文教程 by zhuanqianfish</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>ThinkPhpHelper使用说明-详细手把手图文教程</h1>
        <p>ThinkPhpHelper 代码生成器 代码生成工具</p>
        <p class="view"><a href="https://github.com/zhuanqianfish/ThinkphpHelper">View the Project on GitHub <small>zhuanqianfish/ThinkphpHelper</small></a></p>
        <ul>
          <li><a href="https://github.com/zhuanqianfish/ThinkphpHelper/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/zhuanqianfish/ThinkphpHelper/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/zhuanqianfish/ThinkphpHelper">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <p><strong>注意，因为最近我有些新的想法，所以这只是一个临时的说明，所以使用界面和操作方法可能会有所变动，但是核心思路都是一样的。</strong></p>

<p>它只是生成最基本的CRUD代码片段，所有的文件还是需要你自己亲手创建，使用之前一定要准备好你的数据库以及数据库里的数据表。这篇文档其实面向的是刚刚使用Thinkphp的新手，老手们可以忽略。</p>

<p>第一步，准备好你的数据库
相对于Mysql，小项目我更喜欢用sqlite数据库，ThinkPhpHelper默认支持的数据库就是sqlite哦。这里我们用其他随便一个数据库工具创建一个名为DB.db的数据库，在里面写好我们的数据表，在这个例子里，我们写一个叫做people的数据表，它的结构是这样的</p>

<p>把它放到DataBase文件夹下，然后配置一下config.php文件像这样：
return array(
'DB_TYPE'                =&gt; 'pdo',
'DB_DSN'                 =&gt; 'sqlite:DataBase/db.db',
'DB_PREFIX'              =&gt; '',        // 数据库表前缀
'DB_CHARSET'            =&gt; 'utf8',      // 数据库编码默认采用utf8
'DB_FIELDS_CACHE'       =&gt; false,       // 启用字段缓存
'DEFAULT_THEME'         =&gt; 'Default',   //默认风格
);</p>

<p>第二步，启动
然后我们把ThinkPhpHelper.class.php放到Action目录下。然后在浏览器里打开<a href="http://127.0.0.1/%5B%E8%BF%99%E9%87%8C%E6%98%AF%E4%BD%A0%E7%9A%84%E9%A1%B9%E7%9B%AE%E5%90%8D%5D/index.php/ThinkphpHelper">http://127.0.0.1/[这里是你的项目名]/index.php/ThinkphpHelper</a>
这时你应该能看到ThinkphpHelper的操作界面了，注意一下左边的“选择表格”下拉菜单里有没有连接到数据库，如果没有，检查一下你的数据库配置是否有问题。如果一切正常，选择我们我people数据表，点一下生成，当当当~一大堆代码就出现在了右边的主窗口里了。</p>

<p>第三步，建立相关文件，把代码写入
<img src="http://beta1.qiniudn.com/1.jpg" alt="">
这个图表示了右边最上面生成的all页面的代码，左边是预览效果，里面随便填充了一些东东，这样是为了让你看清你的表里如果有数据时显示大概会是什么样子，右边是相应的代码。这时你需要在Tpl目录下建立一个Default文件夹，它是刚才我们在配置文件中写入的默认风格，当然，如果你没有配置可以不创建。然后在Default文件夹下新建一个People目录，它里面存放你一会要创建的PeopleAction对应的View文件，在这个目录下创建all.html文件，把上图里面右边那个文本框中的代码复制进去（html跟css你肯定会的吧？从网上找个你中意的bootstarp模板作为样式框架吧，这样看起来更顺眼一些）。</p>

<p><img src="http://beta1.qiniudn.com/2.jpg" alt="">
这一段代码，你要先到Lib/Action目录下创建一个名为PeopleAction.class.php的文件，在它里面写一个PeopleAction类，代码如下：
&lt;?php
class PeopleAction extends Action {</p>

<p>}</p>

<p>然后把上图的“列出所有记录代码”的文本框里的东东复制到这个类里。</p>

<p>第四步，测试一下
好了，现在打开<a href="http://127.0.0.1/%5B%E8%BF%99%E9%87%8C%E6%98%AF%E4%BD%A0%E7%9A%84%E9%A1%B9%E7%9B%AE%E5%90%8D%5D/index.php/People/all">http://127.0.0.1/[这里是你的项目名]/index.php/People/all</a> ，看看是不是能正常显示出一个页面了？如果你的数据表中有一些测试数据的话，现在应该已经可以正常显示了。如果不能，回到第三步，看看是哪里出错了</p>

<p>第五步，把剩下的工作完成
经过上面4个步骤，你已经完成了创建显示people表中所有文件的前后台代码了，做一个小小的总结，ThinkphpHelper是按照一行前台代码一行后台代码的顺序依次排列all，add，edit，delete方法，对应的操作是列出所有，添加，修改，删除，其中删除方法没有对应的前台界面，所以只用编写action中的代码就可以了。你可以分别创建剩下的前台模板文件，把代码复制进相关的文件就能使用。</p>

<p>第六步，走一遍增加修改删除吧
在数据表里添加一些数据（<a href="http://127.0.0.1/%5B%E8%BF%99%E9%87%8C%E6%98%AF%E4%BD%A0%E7%9A%84%E9%A1%B9%E7%9B%AE%E5%90%8D%5D/index.php/People/add%EF%BC%89%E7%84%B6%E5%90%8E%E4%BF%AE%E6%94%B9%E5%AE%83%EF%BC%8C%E7%84%B6%E5%90%8E%E5%88%A0%E9%99%A4%E5%AE%83%EF%BC%8C%E5%A4%9A%E8%AF%95%E4%B8%80%E8%AF%95%EF%BC%8C%E6%98%AF%E4%B8%8D%E6%98%AF%E5%BE%88%E6%96%B9%E4%BE%BF%EF%BC%9F">http://127.0.0.1/[这里是你的项目名]/index.php/People/add）然后修改它，然后删除它，多试一试，是不是很方便？</a></p>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/zhuanqianfish">zhuanqianfish</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>